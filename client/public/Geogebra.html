<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
   <script src="https://cdn.geogebra.org/apps/deployggb.js"></script>
  </head>
  <body>
    <div id='ggb-element' class='applet-container'></div>
    <div className='loader'>
      <img src='./Ripple-2.3s-200px.gif' />
    </div>
  </body>
  <script src="/js/ggbClient.js"></script>
  <script>

    // request the ggb file
    var file = location.href.split('file=').slice(1);
    console.log(file)
    var parameters = {
      "id":"ggbApplet",
      "width": 800,
      "height": 600,
      "scaleContainerClass": 'applet_container',
      "showToolBar":true,
      "showMenuBar": true,
      "showAlgebraInput":true,
      "language": "en",
      "useBrowserForJS":false,
      "preventFocus":true,
      "ggbBase64": file
      //"appName":"graphing"
    };
    var ggbApplet;
    var ggbApp = new GGBApplet(parameters, true);
    window.addEventListener("load", function() {
        ggbApp.inject('ggb-element');
    });
    // setInterval(function(){
    //   ggbApplet = document.ggbApplet;
    //   console.log(ggbApplet)
    // }, 5000)
  </script>
</html>
